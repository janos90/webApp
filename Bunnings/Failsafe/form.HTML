<!doctype html>
<head>
  <style type="text/css">
  body {
    text-align: -webkit-center;
    background-color: #FFfFFF;
    font-family: Sans-serif;
  }

  .firstCol {
    width: 20%;
  }

  form {
    width:1080px;
  }
  .address {
    Height: 60px;
    width: 350px;
    margin-left:15px;
    word-break:break-all;
  }
  .wrapper {
    display: flex;
    flex-flow: row wrap;
    font-weight: bold;
    text-align: center;


  }
  .header {
    flex:1;
    text-align: center;
    min-width: 600px;
  }
  .main {
    flex: 1;
  }
  .textbox {
    /* float: right; */
  }
  .row {
    display: flex;
    flex-flow: row wrap;
    text-align: center;
    font-weight: normal;
    font-size: 14;

  }
  .checkboxContainer {
    border: solid 3px black;
    flex-flow: wrap;
    width: 50%;
    padding: 5px;

  }

  .checkboxContainerheader {
    background-color: grey;
    padding: 5px
  }

  .fullWidthContainer {
    border: solid 3px black;
    flex-flow: wrap;
    width: 100%;
    padding: 5px;
  }

  .pair {
    display: flex;

  }

  .right {
    float: right;

  }

  .uploadSection {
    text-align: left;
  }

  .large {
    height: 90px;
    width: 90%;
  }

  .imagePair {
    display: flex;

  }

  .imageContainer {
    flex-flow: wrap;
    width: 50%;
    padding: 5px;
  }
  .uploadRow {
    display: flex;
    text-align: center;
    font-weight: normal;
    font-size: 14;
  }

  .collapsible {
  background-color: #777;
  color: white;
  cursor: pointer;
  padding: 18px;
  width: 100%;
  border: none;
  text-align: left;
  outline: none;
  font-size: 15px;
}

.active, .collapsible:hover {
  background-color: #555;
}

.content {
  padding: 0 18px;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.2s ease-out;
  background-color: #f1f1f1;
}
</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>
<script>
$('document').ready(function() {
  $('input.corrosion').on('change', function() {
    $('input.corrosion').not(this).prop('checked', false);
  });
  $('input.wind').on('change', function() {
    $('input.wind').not(this).prop('checked', false);
  });
  $('input.wind').on('change', function() {
    $('input.wind').not(this).prop('checked', false);
  });
  $('input.plans').on('change', function() {
    $('input.plans').not(this).prop('required', false);
  });
  $('input.engineer').on('change', function() {
    $('input.engineer').not(this).prop('required', false);
  });
  $('input.wndPlans').on('change', function() {
    $('input.wndPlans').not(this).prop('required', false);
  });
  $('input.specs').on('change', function() {
    $('input.specs').not(this).prop('required', false);
  });
  $('input.location').on('change', function() {
    $('input.location').not(this).prop('checked', false);
  });
  // detailing prevent submit unless engineering plan supplied
  $('input.detailing').on('change', function() {
    $('input.engineer').css('background-color', 'red');
  });

  // extra engineering upload rows
  $('#eng1').on('change', function() {
    $('#engrow1').show();
  });
  $('#eng2').on('change', function() {
    $('#engrow2').show();
  });
  $('#eng3').on('change', function() {
    $('#engrow3').show();
  });
  $('#eng4').on('change', function() {
    $('#engrow4').show();
  });
  $('#eng5').on('change', function() {
    $('#engrow5').show();
  });

})


function preventFormSubmit() {
  var forms = document.querySelectorAll('form');
  for (var i = 0; i < forms.length; i++) {
    forms[i].addEventListener('submit', function(event) {
      event.preventDefault();
    });
  }
}
window.addEventListener('load', preventFormSubmit);

function handleFormSubmit(formObject) {
  $('input.submission').prop( "disabled", true );
  google.script.run.withSuccessHandler(updateUrl).processForm(formObject);
}
function updateUrl(url) {
  var div = document.getElementById('output');
  var form = document.getElementById('myForm');
  div.innerHTML = '<p>'+url+'</p>';
  form.style.display = "none";
}


//collapsable

    var coll = document.getElementsByClassName("collapsible");
    var i;

    for (i = 0; i < coll.length; i++) {
      coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        if (content.style.maxHeight){
          content.style.maxHeight = null;
        } else {
          content.style.maxHeight = content.scrollHeight + "px";
        }
      });
    }

</script>

<form id="myForm" align="center" onsubmit="handleFormSubmit(this)">
  <div class="wrapper">
    <div class="main">
      <div class="headingWrapper">
        <div class="imagePair">
          <p style="padding: 0px; width: 50%">
            <img src="./capture.png" style="background-color: #fff; padding: 0px; width: 300px">
            <br>
            <br>Bunnings Warehouse
          </p>

        </div>
      </div>
      <header>
        <h3>Estimate Request</h3>
      </header>
      <div class="pair">
          <div class="checkboxContainer" style="border-right: 0px">
          <p>Store:
            <select name="">
              <option value="volvo">North Auckland</option>
              <option value="saab">East Tamaki</option>
              <option value="fiat">Rotorua</option>
              <option value="audi">Wellington</option>
            </select>
          </p>
          <p>Store for Product Collection:
            <select name="">
              <option value="volvo">North Auckland</option>
              <option value="saab">East Tamaki</option>
              <option value="fiat">Rotorua</option>
              <option value="audi">Wellington</option>
            </select>
          </p>
        </div>
        <div class="checkboxContainer" style="border-left: 0px">

          <p>Date: <input class="textbox right" name="" type="text" style="width: 50%;"></p>
          <p>Tender Date: <input class="textbox right" name="" type="text" style="width: 50%;"></p>
        </div>
      </div>
      <button class="collapsible">Section 1: Customer's Details</button>
      <div class="content">
        <div class="pair">
          <div class="checkboxContainer">
            <p class="row">Account/Customers Name:<input class="textbox" required name="" type="text" placeholder="Account/Customers Name" ></p>
            <p class="row">Site Address:<textarea class="textbox address" name="" type="text" placeholder="Site Address"></textarea></p>
            <p class="row">Customers Account Number:<input class="textbox" name="" type="text" placeholder=""></p>
            <p class="row">Price file required<input name="" type="checkbox"></p>
            <p class="row">Account Manager:<input class="textbox" required name="" type="text" placeholder=""></p>

          </div>
          <div class="checkboxContainer">

            <p class="row">Customer Contact Name:<input class="textbox" required name="" type="text" placeholder="Account/Customers Name" ></p>
            <p class="row">Customer's Address:<textarea class="textbox address" name="" type="text" placeholder="Site Address"></textarea></p>
            <p class="row">Customer's Phone:<input class="textbox" name="" type="text" placeholder=""></p>
            <p class="row">BUN Job Number:<input class="textbox" name="" type="text" placeholder=""></p>
            <p class="row">Template:
                <select name="">
                <option value="volvo">North Auckland</option>
                <option value="saab">East Tamaki</option>
                <option value="fiat">Rotorua</option>
                <option value="audi">Wellington</option>
              </select>
            </p>
          </div>
        </div>
      </div>
      <button class="collapsible">Section 2: Plan Specifications - FOR QS USE</button>
      <div class="content">
        <div class="pair">
          <div class="checkboxContainer">
            <p class="row">Account/Customers Name:<input class="textbox" required name="" type="text" placeholder="Account/Customers Name" ></p>
            <p class="row">Site Address:<textarea class="textbox address" name="" type="text" placeholder="Site Address"></textarea></p>
            <p class="row">Customers Account Number:<input class="textbox" name="" type="text" placeholder=""></p>
            <p class="row">Price file required<input name="" type="checkbox"></p>
            <p class="row">Account Manager:<input class="textbox" required name="" type="text" placeholder=""></p>

          </div>
          <div class="checkboxContainer">

            <p class="row">Customer Contact Name:<input class="textbox" required name="" type="text" placeholder="Account/Customers Name" ></p>
            <p class="row">Customer's Address:<textarea class="textbox address" name="" type="text" placeholder="Site Address"></textarea></p>
            <p class="row">Customer's Phone:<input class="textbox" name="" type="text" placeholder=""></p>
            <p class="row">BUN Job Number:<input class="textbox" name="" type="text" placeholder=""></p>
            <p class="row">Template:
                <select name="">
                <option value="volvo">North Auckland</option>
                <option value="saab">East Tamaki</option>
                <option value="fiat">Rotorua</option>
                <option value="audi">Wellington</option>
              </select>
            </p>
          </div>
        </div>
      </div>
      <header>
        <h4 >Tick the items below required to be estimated</h4>
      </header>
      <div class="pair">

        <div class="checkboxContainer">
          <p class="row"><input class="detailing" name="" type="checkbox">Truss Layout, PS1 only</p>
          <p class="row"><input class="detailing" name="" type="checkbox">Full Buildable Layouts</p>
          <p class="row"><input class="detailing" name="" type="checkbox">Detailing</p>
          <p style="border:solid 1px black;"></p>
          <p class="row"><input name="" type="checkbox">Steel Reinforcing</p>
          <p class="row"><input name="" type="checkbox">Pre-Bent R/Steel</p>
          <p class="row"><input name="" type="checkbox">Rib-raft</p>
          <p class="row"><input name="" type="checkbox">Masonry</p>
          <p class="row"><input name="" type="checkbox">Concrete</p>
        </div>
        <div class="checkboxContainer">
          <p class="row"><input name="" type="checkbox">Prenail</p>
          <p class="row"><input class="detailing" name="" type="checkbox">Trusses/Rafters</p>
          <p class="row"><input name="" type="checkbox">Roof Pack</p>
          <p class="row"><input name="" type="checkbox">Random</p>
          <p class="row"><input name="" type="checkbox">Sub-floor</p>
          <p class="row"><input name="" type="checkbox">Mid-floor</p>
          <p class="row"><input name="" type="checkbox">Deck</p>
        </div>
        <div class="checkboxContainer">
          <p class="row"><input name="" type="checkbox">Cladding</p>
          <p class="row"><input name="" type="checkbox">Insulation Only</p>
          <p class="row"><input name="" type="checkbox">Insulation Installed</p>
          <p class="row"><input name="" type="checkbox">Plasterboard</p>
          <p class="row"><input name="" type="checkbox">Plasterboard D.T.S</p>
          <p class="row"><input name="" type="checkbox">Internal Linings</p>
          <p class="row"><input name="" type="checkbox">Internal Doors</p>
        </div>
        <div class="checkboxContainer">
          <p class="row"><input name="" type="checkbox">Timber Fascia</p>
          <p class="row"><input name="" type="checkbox">Marley Gutter / D.P</p>
          <p class="row"><input name="" type="checkbox">Roofing</p>
          <p class="row"><input name="" type="checkbox">Aluminium Joinery</p>
          <p class="row"><input name="" type="checkbox">Pergola</p>
          <p class="row"><input name="" type="checkbox">Retaining Wall</p>
          <p class="row"><input name="" type="checkbox"></p>
        </div>
      </div>
      <header>
        <h4 >Tick the building zones for this building</h4>
      </header>
      <div class="pair">

        <div class="checkboxContainer">
          Wind zone
          <p class="row"><input class="wind" name="" type="checkbox">Low Wind</p>
          <p class="row"><input class="wind" name="" type="checkbox">Medium Wind</p>
          <p class="row"><input class="wind" name="" type="checkbox">High Wind</p>
          <p class="row"><input class="wind" name="" type="checkbox">Very High Wind</p>
          <p class="row"><input class="wind" name="" type="checkbox">Extra High Wind</p>
        </div>
        <div class="checkboxContainer">
          Corrosion zone
          <p class="row"><input class="corrosion" name="" type="checkbox">Corrosion Zone A: None</p>
          <p class="row"><input class="corrosion" name="" type="checkbox">Corrosion Zone B: Low</p>
          <p class="row"><input class="corrosion" name="" type="checkbox">Corrosion Zone C: Med</p>
          <p class="row"><input class="corrosion" name="" type="checkbox">Corrosion Zone D: High</p>
        </div>
      </div>
      <header>
        <h4 >Note Products required for the following:</h4>
      </header>
      <div class="pair">
        <div class="fullWidthContainer">
          <p>Interior Doors: <input class="textbox right" name="" type="text" placeholder="Product" style="width: 80%;"></p>
          <p>Door Hardware:  <input class="textbox right" name="" type="text" placeholder="Product" style="width: 80%;"></p>
          <p>Scotia:         <input class="textbox right" name="" type="text" placeholder="Product" style="width: 80%;"></p>
          <p>Skirting:         <input class="textbox right" name="" type="text" placeholder="Product" style="width: 80%;"></p>
          <p>Architraves:         <input class="textbox right" name="" type="text" placeholder="Product" style="width: 80%;"></p>
        </div>
      </div>
      <header>
        <h4 >Note below alterations to plan supplied:</h4>
      </header>
      <div class="pair">
        <div class="fullWidthContainer">
          <p><textarea class="textbox large" name="" type="text" placeholder="Alterations"></textarea></p>
        </div>
      </div>
      <footer>
        <h2> PLEASE NOTE: ALL INFORMATION GIVEN ON THIS FORM SUPERCEDES THAT ON THE PLAN.</H2>
        </footer>
      </div>
    </div>

    <div class="uploadSection">
      <br>
      <h3>Upload your plan files here. If you're not uploading a file, tick the box.</h3>
    <table>
      <tr>
        <td class='firstCol'>Plans:  </td>
        <td><input type="file" name="" class="plans" required></td>
        <td style="text-align: right; width: 100%;">No File:<input name="" type="checkbox" class="plans" required></td>
      </tr>
      <tr>
        <td class='firstCol'>Engineer Plans: </td>
        <td><input id='eng1' type="file" name="" class="engineer" required></td>
        <td style="text-align: right; width: 100%;">No File:<input name="" type="checkbox" class="engineer" required></td>
      </tr>
      <tr hidden id='engrow1'>
        <td class='firstCol'>Engineer Plans extra: </td>
        <td><input id='eng2' type="file" name="" class="engineer"></td>
        <td><br></td>
      </tr>
      <tr hidden id='engrow2'>
        <td class='firstCol'>Engineer Plans extra: </td>
        <td><input id='eng3' type="file" name="" class="engineer"></td>
        <td><br></td>
      </tr>
      <tr hidden id='engrow3'>
        <td class='firstCol'>Engineer Plans extra: </td>
        <td><input id='eng4' type="file" name="" class="engineer"></td>
        <td><br></td>
      </tr>
      <tr hidden id='engrow4'>
        <td class='firstCol'>Engineer Plans extra: </td>
        <td><input id='eng5' type="file" name="" class="engineer"></td>
        <td><br></td>
      </tr>
      <tr>
        <td class='firstCol'>Window & Door Plans:</td>
        <td><input type="file" name="" class="wndPlans" required></td>
        <td style="text-align: right; width: 100%;">No File:<input name="" type="checkbox" class="wndPlans" required></td>
      </tr>
      <tr>
        <td class='firstCol'>Specifications:</td>
        <td><input type="file" name="" class="specs" required></td>
        <td style="text-align: right; width: 100%;">No File:<input name="" type="checkbox" class="specs" required></td>
      </tr>
    </table>

    </div>
    <br>
    <input class="submission" type="submit" value="Submit form and upload">
  </form>
  <div id="output">
    <h3>&nbsp;</h3>
    <p>&nbsp;</p>
  </div>
